<html lang="ar">
<head>
<meta name="robots" content="noindex, nofollow" />
<meta name="referrer" content="no-referrer" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
<style>
body {
  margin: 0;
  padding: 0;
  background-color: black;
  overflow: hidden;
  position: fixed;
  width: 100%;
  height: 100%;
}

#player-container {
  position: absolute;
  width: 100vh;
  height: 100vw;
  top: 0;
  left: 0;
  transform: rotate(90deg) translateY(-100%);
  transform-origin: left top;
}

#player {
  width: 100%;
  height: 100%;
}

/* إخفاء شريط الحالة في وضع ملء الشاشة */
:fullscreen {
  background-color: black;
}

:fullscreen::backdrop {
  background-color: black;
}

/* إصلاح وضع ملء الشاشة ليبقى أفقي دائمًا */
:fullscreen #player-container,
:-webkit-full-screen #player-container,
:-moz-full-screen #player-container,
:-ms-fullscreen #player-container {
  width: 100vh !important;
  height: 100vw !important;
  transform: rotate(90deg) translateY(-100%) !important;
  top: 0 !important;
  left: 0 !important;
}

/* إصلاح لعرض الفيديو */
.jwplayer .jw-media video {
  position: absolute !important;
  top: 0 !important;
  left: 0 !important;
  width: 100% !important;
  height: 100% !important;
  object-fit: fill !important;
}

/* خلفية حاوية عناصر التحكم */
.jwplayer .jw-controlbar {
  background-color: rgba(0, 0, 0, 0.8) !important;
}

/* لون الأزرار */
.jwplayer .jw-icon {
  color: #eee !important;
}

.jwplayer .jw-button-color:hover {
  color: #e50914 !important;
}

/* لون شريط التقدم */
.jwplayer .jw-progress {
  background-color: red !important;
}

.jwplayer .jw-progress .jw-buffer {
  background-color: rgba(255, 255, 255, 0.3) !important;
}

/* شكل النقطة في الشريط */
.jwplayer .jw-slider-time .jw-knob {
  background-color: red !important;
  border: 2px solid red;
}

/* شكل زر التشغيل الكبير في المنتصف */
.jwplayer .jw-display-icon-container {
  background-color: rgba(0, 0, 0, 0.6);
  border-radius: 12px;
}
</style>

<script src="//ssl.p.jwpcdn.com/player/v/8.26.0/jwplayer.js"></script>
<script>
jwplayer.key = 'XSuP4qMl+9tK17QNb+4+th2Pm9AWgMO/cYH8CI0HGGr7bdjo';
</script>
</head>
<body>

<div id="player-container">
  <div id="player"></div>
</div>

<script>
function getParameterByName(name) {
  name = name.replace(/[]/, "\").replace(/[]/, "\");
  var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
  results = regex.exec(location.search);
  return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
}

var get = getParameterByName('get');
var key = getParameterByName('key');
var key2 = getParameterByName('key2');
var getIMG = getParameterByName('img');

var playerInstance = jwplayer("player");

playerInstance.setup({
  playlist: [{
    "sources": [{
      "default": false,
      "type": "dash",
      "file": "https://todtv-live-spo-prod.akamaized.net/Content/Channel/svc-spo-hd-15-dt/DASH/hdntl=exp=1752758051~acl=*%2fContent%2fChannel%2fsvc-spo-hd-15-dt%2fDASH%2f*~id=ac831a66-bfba-4ff9-9b90-2c8c9f10ef8e~data=hdntl,aXA9MTU2LjE5OS44LjIzNA~hmac=ee43bf415de61d4965d4717659e367b8cec607f0f4776ffd8f0ee1c79b95cdaf/playlist_ha.mpd?start=1752741064000&end=1752762600000",
      "drm": {
        "clearkey": { 
          "keyId": "fa58e7eb3a4d36949c71ac3ef6e869d8", 
          "key": "b799b788cf13c7bbba95426c94879f30" 
        }
      },
      "label": "0"
    }]
  }],
  width: "100%",
  height: "100%",
  autostart: false,
  controls: true,
  cast: {},
  sharing: false
});

// حل خاص لـ AppCreator24 لإخفاء شريط الحالة
function hideStatusBar() {
  if (typeof Android !== 'undefined' && Android.fullScreen) {
    Android.fullScreen();
  } else {
    // حل بديل لمتصفحات الويب
    document.documentElement.style.overflow = 'hidden';
    document.body.style.overflow = 'hidden';
  }
}

// إدارة وضع ملء الشاشة
function handleFullscreen() {
  var container = document.getElementById('player-container');
  
  // التأكد من أن الاتجاه أفقي دائمًا
  container.style.width = '100vh';
  container.style.height = '100vw';
  container.style.transform = 'rotate(90deg) translateY(-100%)';
  container.style.top = '0';
  container.style.left = '0';
  
  // إعادة ضبط حجم المشغل
  setTimeout(function() {
    playerInstance.resize('100%', '100%');
  }, 100);
  
  // محاولة إخفاء شريط الحالة
  hideStatusBar();
}

// ضبط حجم المشغل بعد التحميل
playerInstance.on('ready', function() {
  adjustPlayerSize();
  
  // مراقبة وضع ملء الشاشة
  playerInstance.on('fullscreen', function(state) {
    if (state.fullscreen) {
      handleFullscreen();
    } else {
      adjustPlayerSize();
    }
  });
});

// ضبط الحجم عند تغيير حجم الشاشة
window.addEventListener('resize', adjustPlayerSize);

function adjustPlayerSize() {
  var container = document.getElementById('player-container');
  container.style.width = '100vh';
  container.style.height = '100vw';
  container.style.transform = 'rotate(90deg) translateY(-100%)';
  container.style.top = '0';
  container.style.left = '0';
  
  setTimeout(function() {
    playerInstance.resize('100%', '100%');
  }, 100);
}

// محاولة قفل الشاشة في الوضع الأفقي
function lockLandscape() {
  if (screen.orientation && screen.orientation.lock) {
    screen.orientation.lock('landscape').catch(function(e) {
      console.log("Orientation lock not supported: ", e);
    });
  } else {
    // حل بديل لـ WebView
    window.addEventListener('orientationchange', function() {
      adjustPlayerSize();
    });
  }
}

window.addEventListener('load', function() {
  lockLandscape();
  adjustPlayerSize();
  
  // إخفاء شريط الحالة عند التحميل
  hideStatusBar();
});

// مراقبة التغيرات في وضع ملء الشاشة
document.addEventListener('fullscreenchange', handleFullscreen);
document.addEventListener('webkitfullscreenchange', handleFullscreen);
document.addEventListener('mozfullscreenchange', handleFullscreen);
document.addEventListener('MSFullscreenChange', handleFullscreen);
</script>

</body>
</html>
