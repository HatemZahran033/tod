<html lang="ar">
<head>
<meta name="robots" content="noindex, nofollow" />
<meta name="referrer" content="no-referrer" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
<style>
body {
  margin: 0;
  padding: 0;
  background-color: black;
  overflow: hidden;
  position: fixed;
  width: 100%;
  height: 100%;
}

#player-container {
  position: absolute;
  width: 100vh;
  height: 100vw;
  top: 0;
  left: 0;
  transform: rotate(90deg) translateY(-100%);
  transform-origin: left top;
}

#player {
  width: 100%;
  height: 100%;
}

/* إصلاح وضع ملء الشاشة */
:-webkit-full-screen #player-container {
  width: 100vw !important;
  height: 100vh !important;
  transform: none !important;
  top: 0 !important;
  left: 0 !important;
}

:-moz-full-screen #player-container {
  width: 100vw !important;
  height: 100vh !important;
  transform: none !important;
  top: 0 !important;
  left: 0 !important;
}

:-ms-fullscreen #player-container {
  width: 100vw !important;
  height: 100vh !important;
  transform: none !important;
  top: 0 !important;
  left: 0 !important;
}

:fullscreen #player-container {
  width: 100vw !important;
  height: 100vh !important;
  transform: none !important;
  top: 0 !important;
  left: 0 !important;
}

/* خلفية حاوية عناصر التحكم */
.jwplayer .jw-controlbar {
  background-color: rgba(0, 0, 0, 0.8) !important;
}

/* لون الأزرار */
.jwplayer .jw-icon {
  color: #eee !important;
}

.jwplayer .jw-button-color:hover {
  color: #e50914 !important;
}

/* لون شريط التقدم */
.jwplayer .jw-progress {
  background-color: red !important;
}

.jwplayer .jw-progress .jw-buffer {
  background-color: rgba(255, 255, 255, 0.3) !important;
}

/* شكل النقطة في الشريط */
.jwplayer .jw-slider-time .jw-knob {
  background-color: red !important;
  border: 2px solid red;
}

/* شكل زر التشغيل الكبير في المنتصف */
.jwplayer .jw-display-icon-container {
  background-color: rgba(0, 0, 0, 0.6);
  border-radius: 12px;
}

/* الفيديو يملأ الشاشة تمامًا */
.jwplayer .jw-media video {
  object-fit: fill !important;
}
</style>

<script src="//ssl.p.jwpcdn.com/player/v/8.26.0/jwplayer.js"></script>
<script>
jwplayer.key = 'XSuP4qMl+9tK17QNb+4+th2Pm9AWgMO/cYH8CI0HGGr7bdjo';
</script>
</head>
<body>

<div id="player-container">
  <div id="player"></div>
</div>

<script>
function getParameterByName(name) {
  name = name.replace(/[]/, "\").replace(/[]/, "\");
  var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
  results = regex.exec(location.search);
  return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
}

var get = getParameterByName('get');
var key = getParameterByName('key');
var key2 = getParameterByName('key2');
var getIMG = getParameterByName('img');

var playerInstance = jwplayer("player");

playerInstance.setup({
  playlist: [{
    "sources": [{
      "default": false,
      "type": "dash",
      "file": "https://todtv-live-spo-prod.akamaized.net/Content/Channel/svc-spo-hd-15-dt/DASH/hdntl=exp=1752758051~acl=*%2fContent%2fChannel%2fsvc-spo-hd-15-dt%2fDASH%2f*~id=ac831a66-bfba-4ff9-9b90-2c8c9f10ef8e~data=hdntl,aXA9MTU2LjE5OS44LjIzNA~hmac=ee43bf415de61d4965d4717659e367b8cec607f0f4776ffd8f0ee1c79b95cdaf/playlist_ha.mpd?start=1752741064000&end=1752762600000",
      "drm": {
        "clearkey": { 
          "keyId": "fa58e7eb3a4d36949c71ac3ef6e869d8", 
          "key": "b799b788cf13c7bbba95426c94879f30" 
        }
      },
      "label": "0"
    }]
  }],
  width: "100%",
  height: "100%",
  autostart: false,
  controls: true,
  cast: {},
  sharing: false
});

// إصلاح وضع ملء الشاشة
playerInstance.on('fullscreen', function(state) {
  if (state.fullscreen) {
    document.getElementById('player-container').style.transform = 'none';
    document.getElementById('player-container').style.width = '100vw';
    document.getElementById('player-container').style.height = '100vh';
    document.getElementById('player-container').style.top = '0';
    document.getElementById('player-container').style.left = '0';
  } else {
    adjustPlayerSize();
  }
});

// ضبط حجم المشغل بعد التحميل
playerInstance.on('ready', function() {
  adjustPlayerSize();
});

// ضبط الحجم عند تغيير اتجاه الشاشة
window.addEventListener('resize', adjustPlayerSize);

function adjustPlayerSize() {
  var container = document.getElementById('player-container');
  if (window.innerHeight > window.innerWidth) {
    // الوضع الرأسي - تطبيق التدوير
    container.style.width = '100vh';
    container.style.height = '100vw';
    container.style.transform = 'rotate(90deg) translateY(-100%)';
    container.style.transformOrigin = 'left top';
  } else {
    // الوضع الأفقي - إزالة التحويلات
    container.style.width = '100%';
    container.style.height = '100%';
    container.style.transform = 'none';
  }
}

// محاولة قفل الشاشة في الوضع الأفقي
function lockLandscape() {
  if (screen.orientation && screen.orientation.lock) {
    screen.orientation.lock('landscape').catch(function(e) {
      console.log("Orientation lock not supported: ", e);
    });
  }
}

window.addEventListener('load', lockLandscape);
</script>

</body>
</html>
