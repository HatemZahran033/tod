<html lang="ar">
<head>
<meta name="robots" content="noindex, nofollow" />
<meta name="referrer" content="no-referrer" />
<style>
  
body {
  margin: 0;
  padding: 0;
  background-color: black;
}

#player {
  width: 100vw;
  height: 100vh;
}

/* خلفية حاوية عناصر التحكم */
.jwplayer .jw-controlbar {
  background-color: rgba(0, 0, 0, 0.8) !important;
}

/* لون الأزرار */
.jwplayer .jw-icon {
  color: #eee !important;
}

.jwplayer .jw-button-color:hover {
  color: #e50914 !important;
}

/* لون شريط التقدم */
.jwplayer .jw-progress {
  background-color: red !important;
}

.jwplayer .jw-progress .jw-buffer {
  background-color: rgba(255, 255, 255, 0.3) !important;
}

.jwplayer .jw-progress .jw-play-progress {
  background-color: #r !important;
}

/* شكل النقطة في الشريط */
.jwplayer .jw-slider-time .jw-knob {
  background-color: red !important;
  border: 2px solid red;
}

/* شكل زر التشغيل الكبير في المنتصف */
.jwplayer .jw-display-icon-container {
  background-color: rgba(0, 0, 0, 0.6);
  border-radius: 12px;
}

/* الفيديو يملأ الشاشة تمامًا */
.jwplayer .jw-media video {
  position: absolute;
  top: 0;
  left: 0;
  width: 100% !important;
  height: 100% !important;
  object-fit: fill !important;
}

/* العلامة المائية النصية */
.storm-text-watermark {
  position: absolute;
  top: 15px;
  left: 15px;
  z-index: 100;
  color: rgba(255, 255, 255, 0.7);
  font-family: 'Arial', sans-serif;
  font-size: 14px;
  font-weight: bold;
  text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.8);
  padding: 5px 10px;
  background: rgba(0, 0, 0, 0.5);
  border-radius: 4px;
  transition: all 0.3s ease;
}

.storm-text-watermark:hover {
  color: rgba(255, 255, 255, 0.9);
  background: rgba(0, 0, 0, 0.7);
}
</style>

<script src="//ssl.p.jwpcdn.com/player/v/8.26.0/jwplayer.js"></script>
<script>
jwplayer.key = 'XSuP4qMl+9tK17QNb+4+th2Pm9AWgMO/cYH8CI0HGGr7bdjo';
</script>
</head>
<body>

<script>
function getParameterByName(name) {
  name = name.replace(/[]/, "\").replace(/[]/, "\");
  var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
  results = regex.exec(location.search);
  return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
}

var get = getParameterByName('get');
var key = getParameterByName('key');
var key2 = getParameterByName('key2');
var getIMG = getParameterByName('img');
</script>

<div id="player"></div>

<!-- العلامة المائية النصية العلوية فقط -->
<div class="storm-text-watermark">STORM CONNECT</div>

<script>
  function setupPlayer() {
    const safeOffset = 3 * 60 * 60 * 1000; // 3 ساعات للخلف
    const duration = 6 * 60 * 60 * 1000;   // تغطية 6 ساعات

    const startTimestamp = Date.now() - safeOffset;
    const endTimestamp = startTimestamp + duration;

    const baseURL = "https://todtv-live-spo-prod.akamaized.net/Content/Channel/svc-spo-hd-16-dt/DASH/hdntl=exp=1752939590~acl=*%2fContent%2fChannel%2fsvc-spo-hd-16-dt%2fDASH%2f*~id=ac831a66-bfba-4ff9-9b90-2c8c9f10ef8e~data=hdntl,aXA9MTU2LjE5OC4yMzUuMjUz~hmac=2569982172dfd0faf15f167197ab495642b38ce4ee5b49e8d31342e22a7b62cf/playlist_ha.mpd";

    const fullURL = `${baseURL}?start=${startTimestamp}&end=${endTimestamp}`;

    jwplayer("player").setup({
      playlist: [{
        sources: [{
          default: false,
          type: "dash",
          file: fullURL,
          drm: {
            clearkey: {
              keyId: "98eedea3e547368886168bb7f8d2e903",
              key: "305670ff7b7495b093e761a5e550697d"
            }
          },
          label: "0"
        }]
      }],
      width: "100%",
      height: "100%",
      autostart: false,
      controls: true,
      cast: {},
      sharing: false
    });
  }

  setupPlayer();
  setInterval(setupPlayer, 50 * 60 * 1000);
</script>

</body>
</html>
